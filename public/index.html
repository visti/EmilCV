<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emil Visti - Workbench</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' shape-rendering='crispEdges'><rect width='16' height='16' fill='%230055aa'/><rect x='2' y='2' width='12' height='12' fill='%23fff' rx='0'/><rect x='3' y='3' width='10' height='3' fill='%230055aa'/><rect x='5' y='3' width='4' height='2' fill='%23fff'/><rect x='3' y='7' width='10' height='6' fill='%23aaccff'/><rect x='4' y='8' width='8' height='4' fill='%230055aa'/></svg>">
  <link rel="stylesheet" href="css/workbench.css">
</head>
<body>
  <!-- Hidden terminal screen (behind workbench) -->
  <div id="hterm-screen">
    <div class="hterm-bar">
      <span>CLI Screen</span>
      <div class="gadgets">
        <div class="gadget hterm-depth" id="hterm-depth-back"></div>
      </div>
    </div>
    <div id="hterm-output"></div>
    <div id="hterm-input-line">
      <span class="hterm-prompt">guest@vistios:~$&nbsp;</span>
      <input type="text" id="hterm-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
      <span class="block-cursor"></span>
    </div>
  </div>

  <!-- Workbench container (slides down to reveal terminal) -->
  <div id="wb-container">
  <div class="boot-screen active" id="boot-screen">
    <div id="boot-prompt">CLICK TO BOOT</div>
    <canvas id="boot-canvas" style="display:none"></canvas>
    <div id="boot-post">
      <div class="boot-line" id="boot-mem">Memory check: <span class="highlight">0 KB</span></div>
      <div class="boot-line" id="boot-scan">Scanning expansion devices...</div>
      <div class="boot-line" id="boot-chipset">Checking chipset: Agnus / Denise / Paula</div>
      <div class="boot-line" id="boot-drives">Mounting DH0: DF0:</div>
      <div class="boot-line" id="boot-load">Loading Workbench...</div>
    </div>
  </div>

  <!-- Screen title bar -->
  <div class="wb-screen-bar">
    <span>Workbench Screen</span>
    <div class="gadgets">
      <div class="gadget" id="wb-depth-back"></div>
    </div>
  </div>

  <!-- Main shell window -->
  <div class="window rec-window open" id="main-window">
    <div class="window-title rec-toggle" data-toggle="main-window">
      <div class="close-gadget" id="main-close"></div>
      <span class="title-text">VistiShell - Emil Visti</span>
    </div>
    <div class="window-body rec-body" id="terminal"></div>
  </div>

  <!-- Note windows (dynamically populated) -->
  <div id="note-windows" style="display:contents"></div>

  <!-- Demoscene window -->
  <div class="window" id="demo-window">
    <div class="window-title">
      <div class="close-gadget" id="demo-close"></div>
      <span class="title-text">Demoscene - Starfield</span>
    </div>
    <div class="window-body" id="demo-body">
      <canvas id="demo-canvas" width="320" height="200"></canvas>
      <div id="scroller" aria-hidden="true"></div>
    </div>
  </div>

  <!-- DPaint window (hidden by default) -->
  <div class="window" id="dpaint-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="dpaint-close"></div>
      <span class="title-text">Deluxe Paint - [untitled]</span>
    </div>
    <div class="window-body" id="dpaint-body">
      <div id="dpaint-layout">
        <div id="dpaint-canvas-wrap">
          <canvas id="dpaint-canvas" width="320" height="256"></canvas>
          <canvas id="dpaint-overlay" width="320" height="256"></canvas>
        </div>
        <div id="dpaint-toolbar">
          <button class="dp-tool active" data-tool="pencil" title="Pencil (P)">
            <svg viewBox="0 0 18 18"><line x1="4" y1="14" x2="14" y2="4" stroke="#000" stroke-width="2"/><rect x="12" y="2" width="3" height="3" fill="#000"/></svg>
          </button>
          <button class="dp-tool" data-tool="line" title="Line (L)">
            <svg viewBox="0 0 18 18"><line x1="2" y1="16" x2="16" y2="2" stroke="#000" stroke-width="2"/></svg>
          </button>
          <button class="dp-tool" data-tool="rect" title="Rectangle (R)">
            <svg viewBox="0 0 18 18"><rect x="2" y="4" width="14" height="10" fill="none" stroke="#000" stroke-width="2"/></svg>
          </button>
          <button class="dp-tool" data-tool="circle" title="Circle (C)">
            <svg viewBox="0 0 18 18"><ellipse cx="9" cy="9" rx="7" ry="6" fill="none" stroke="#000" stroke-width="2"/></svg>
          </button>
          <button class="dp-tool" data-tool="fill" title="Fill (F)">
            <svg viewBox="0 0 18 18"><path d="M4 14 L4 6 L10 2 L10 6 L14 6 L14 14 Z" fill="#000"/><path d="M15 10 Q17 13 15 15 Q13 13 15 10" fill="#000"/></svg>
          </button>
          <button class="dp-tool" data-tool="eraser" title="Eraser (E)">
            <svg viewBox="0 0 18 18"><rect x="3" y="6" width="12" height="8" rx="1" fill="#fff" stroke="#000" stroke-width="1.5"/><rect x="3" y="10" width="12" height="4" rx="1" fill="#fcc" stroke="#000" stroke-width="1.5"/></svg>
          </button>
          <button class="dp-tool" data-tool="eyedropper" title="Eyedropper (I)">
            <svg viewBox="0 0 18 18"><path d="M6 16 L4 14 L10 8 L12 10 Z" fill="#000"/><circle cx="13" cy="5" r="3" fill="none" stroke="#000" stroke-width="1.5"/></svg>
          </button>
          <button class="dp-tool" data-tool="text" title="Text (T)">
            <svg viewBox="0 0 18 18"><text x="3" y="14" font-family="monospace" font-size="13" font-weight="bold" fill="#000">T</text></svg>
          </button>
          <button class="dp-tool" data-tool="stamp" title="Stamp">
            <svg viewBox="0 0 18 18"><circle cx="9" cy="7" r="5" fill="none" stroke="#000" stroke-width="1.5"/><rect x="5" y="12" width="8" height="3" fill="#000" rx="1"/><rect x="3" y="15" width="12" height="2" fill="#000" rx="0.5"/></svg>
          </button>
          <hr class="dp-divider">
          <button class="dp-tool" id="dp-filled-toggle" title="Toggle Filled (Shift+F)">
            <svg viewBox="0 0 18 18"><rect x="2" y="4" width="14" height="10" fill="none" stroke="#000" stroke-width="2"/><rect x="5" y="7" width="8" height="4" fill="#000"/></svg>
          </button>
          <hr class="dp-divider">
          <button class="dp-tool dp-size active" data-size="1" title="1px brush">
            <svg viewBox="0 0 18 18"><rect x="8" y="8" width="2" height="2" fill="#000"/></svg>
          </button>
          <button class="dp-tool dp-size" data-size="2" title="2px brush">
            <svg viewBox="0 0 18 18"><rect x="7" y="7" width="4" height="4" fill="#000"/></svg>
          </button>
          <button class="dp-tool dp-size" data-size="3" title="3px brush">
            <svg viewBox="0 0 18 18"><rect x="6" y="6" width="6" height="6" fill="#000"/></svg>
          </button>
          <hr class="dp-divider">
          <button class="dp-tool" id="dp-undo" title="Undo (Ctrl+Z)">
            <svg viewBox="0 0 18 18"><path d="M4 8 Q4 3 10 3 Q15 3 15 8 Q15 13 10 13 L7 13" fill="none" stroke="#000" stroke-width="1.5"/><polyline points="4,5 4,9 8,9" fill="none" stroke="#000" stroke-width="1.5"/></svg>
          </button>
          <button class="dp-tool" id="dp-redo" title="Redo (Ctrl+Y)">
            <svg viewBox="0 0 18 18"><path d="M14 8 Q14 3 8 3 Q3 3 3 8 Q3 13 8 13 L11 13" fill="none" stroke="#000" stroke-width="1.5"/><polyline points="14,5 14,9 10,9" fill="none" stroke="#000" stroke-width="1.5"/></svg>
          </button>
          <button class="dp-tool" id="dp-clear" title="Clear canvas">CLR</button>
          <button class="dp-tool" id="dp-touch-color-toggle" title="Toggle FG/BG draw color">FG</button>
          <div id="dp-stamp-picker">
            <hr class="dp-divider" style="width:100%;box-sizing:border-box;">
            <button class="dp-tool dp-stamp active" data-stamp="boing" title="Boing ball">
              <svg viewBox="0 0 18 18"><circle cx="9" cy="9" r="7" fill="#fcfcfc"/><path d="M9 2 A7 7 0 0 1 16 9 L9 9 Z" fill="#ec0000"/><path d="M9 16 A7 7 0 0 1 2 9 L9 9 Z" fill="#ec0000"/><circle cx="9" cy="9" r="7" fill="none" stroke="#000" stroke-width="1"/></svg>
            </button>
            <button class="dp-tool dp-stamp" data-stamp="floppy" title="Floppy disk">
              <svg viewBox="0 0 18 18"><rect x="3" y="2" width="12" height="14" rx="1" fill="#303030"/><rect x="9" y="2" width="4" height="5" fill="#545454"/><rect x="4" y="8" width="10" height="6" fill="#cccccc"/><rect x="6" y="12" width="6" height="2" fill="#888"/></svg>
            </button>
            <button class="dp-tool dp-stamp" data-stamp="star" title="Star">
              <svg viewBox="0 0 18 18"><path d="M9 2 L10.5 7 L16 7 L11.5 10.5 L13 16 L9 12.5 L5 16 L6.5 10.5 L2 7 L7.5 7 Z" fill="#fcec00" stroke="#888" stroke-width="0.5"/></svg>
            </button>
            <button class="dp-tool dp-stamp" data-stamp="heart" title="Heart">
              <svg viewBox="0 0 18 18"><path d="M9 15 C9 15 2 10 2 5.5 A3.5 3.5 0 0 1 9 5 A3.5 3.5 0 0 1 16 5.5 C16 10 9 15 9 15 Z" fill="#ec0000"/></svg>
            </button>
          </div>
          <button class="dp-tool dp-save" id="dp-save" title="Save painting (Ctrl+S)">
            <svg viewBox="0 0 18 18"><path d="M3 1h10l3 3v11a2 2 0 01-2 2H3a2 2 0 01-2-2V3a2 2 0 012-2z" fill="none" stroke="#fff" stroke-width="1.5"/><rect x="5" y="1" width="7" height="5" rx="0.5" fill="#fff" opacity="0.7"/><rect x="5" y="10" width="8" height="6" rx="1" fill="#fff" opacity="0.5"/></svg>
          </button>
        </div>
      </div>
      <div id="dpaint-palette-bar">
        <div id="dp-color-indicator">
          <div id="dp-bg-swatch"></div>
          <div id="dp-fg-swatch"></div>
        </div>
        <div id="dp-palette"></div>
      </div>
    </div>
  </div>

  <!-- Pictures window (hidden by default) -->
  <div class="window" id="pictures-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="pictures-close"></div>
      <span class="title-text">Pictures</span>
    </div>
    <div class="window-body" id="pictures-body">
      <div class="pic-empty">No paintings saved yet</div>
    </div>
  </div>

  <!-- Videos window (hidden by default) -->
  <div class="window" id="videos-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="videos-close"></div>
      <span class="title-text">Videos</span>
    </div>
    <div class="window-body" id="videos-body">
      <div class="pic-empty">No videos yet</div>
    </div>
  </div>

  <!-- PICO-8 window (hidden by default) -->
  <div class="window" id="pico8-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="pico8-close"></div>
      <span class="title-text">PICO-8</span>
    </div>
    <div class="window-body" id="pico8-body">
      <div class="pic-empty">No PICO-8 carts yet</div>
    </div>
  </div>

  <!-- AmigaBASIC window (hidden by default) -->
  <div class="window" id="basic-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="basic-close"></div>
      <span class="title-text">AmigaBASIC</span>
    </div>
    <div class="window-body" id="basic-body">
      <div id="basic-output"></div>
      <div id="basic-input-line">
        <span id="basic-prompt"></span>
        <input type="text" id="basic-input" autocomplete="off" spellcheck="false">
        <span class="block-cursor"></span>
      </div>
    </div>
  </div>

  <!-- Mail window (hidden by default) -->
  <div class="window" id="mail-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="mail-close"></div>
      <span class="title-text">Mail - Compose</span>
    </div>
    <div class="window-body" id="mail-body">
      <div class="mail-field">
        <label>To:</label>
        <input type="text" id="mail-to" value="emilvisti@gmail.com" readonly>
      </div>
      <div class="mail-field">
        <label>Subject:</label>
        <input type="text" id="mail-subject" placeholder="Subject..." autocomplete="off">
      </div>
      <div class="mail-field">
        <label>Body:</label>
        <textarea id="mail-msg" placeholder="Write your message..."></textarea>
      </div>
      <button class="mail-send" id="mail-send-btn">Send</button>
    </div>
  </div>

  <!-- Disk pie window (hidden by default) -->
  <div class="window" id="disk-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="disk-close"></div>
      <span class="title-text">Disk Map</span>
    </div>
    <div class="window-body" id="disk-body">
      <canvas id="disk-canvas" width="200" height="200"></canvas>
    </div>
  </div>

  <!-- File Manager window (hidden by default) -->
  <div class="window" id="filemgr-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="filemgr-close"></div>
      <span class="title-text">File Manager - DH0:</span>
    </div>
    <div class="window-body" id="filemgr-body">
      <div class="fm-pane fm-left">
        <div class="fm-path">DH0:CV/</div>
        <div class="fm-list" id="filemgr-list"></div>
      </div>
      <div class="fm-pane fm-right">
        <div class="fm-title" id="filemgr-title">Defrag View</div>
        <canvas id="filemgr-canvas" width="200" height="180"></canvas>
      </div>
    </div>
  </div>

  <!-- Timeline window (hidden by default) -->
  <div class="window" id="timeline-window" style="display:none">
    <div class="window-title">
      <div class="close-gadget" id="timeline-close"></div>
      <span class="title-text">Timeline Map</span>
    </div>
    <div class="window-body timeline-body" id="timeline-body">
      <div class="timeline-legend">
        <span><i class="timeline-swatch" style="background:#ffaa00;border-color:#ffdd44"></i>Experience</span>
        <span><i class="timeline-swatch" style="background:#66ccff;border-color:#aaccff"></i>Education</span>
      </div>
      <div class="timeline-grid" id="timeline-grid"></div>
      <div class="timeline-detail" id="timeline-detail">Hover a block to see details.</div>
    </div>
  </div>

  <!-- Icon row at bottom -->
  <div class="icon-row">
    <a class="wb-icon" href="#" id="cv-icon" aria-label="CV">
      <div class="icon-box">
        <img src="files/icons/CVmain.svg" alt="">
      </div>
      <span class="icon-label">CV</span>
    </a>
    <a class="wb-icon" href="https://github.com/visti" target="_blank" rel="noopener noreferrer" aria-label="GitHub" id="github-link">
      <div class="icon-box">
        <img src="files/icons/github.svg" alt="">
      </div>
      <span class="icon-label">GitHub</span>
    </a>
    <a class="wb-icon" href="https://soundcloud.com/visti-1" target="_blank" rel="noopener noreferrer" aria-label="SoundCloud" id="soundcloud-link">
      <div class="icon-box">
        <img src="files/icons/soundcloud.svg" alt="">
      </div>
      <span class="icon-label">SoundCloud</span>
    </a>
    <a class="wb-icon" href="#" id="reboot-icon" aria-label="Reboot">
      <div class="icon-box">
        <img src="files/icons/reboot.svg" alt="">
      </div>
      <span class="icon-label">Reboot</span>
    </a>
    <a class="wb-icon" href="#" id="demo-icon" aria-label="Demoscene">
      <div class="icon-box">
        <img src="files/icons/demo.svg" alt="">
      </div>
      <span class="icon-label">Demo<br>Scene</span>
    </a>
    <a class="wb-icon" href="#" id="dpaint-icon" aria-label="Deluxe Paint">
      <div class="icon-box">
        <img src="files/icons/paint.svg" alt="">
      </div>
      <span class="icon-label">Deluxe<br>Paint</span>
    </a>
    <a class="wb-icon" href="#" id="filemgr-icon" aria-label="File Manager">
      <div class="icon-box">
        <img src="files/icons/filemanager.svg" alt="">
      </div>
      <span class="icon-label">File<br>Manager</span>
    </a>
    <a class="wb-icon" href="#" id="pictures-icon" aria-label="Pictures">
      <div class="icon-box">
        <img src="files/icons/pictures.svg" alt="">
      </div>
      <span class="icon-label">Pictures</span>
    </a>
    <a class="wb-icon" href="#" id="videos-icon" aria-label="Videos">
      <div class="icon-box">
        <img src="files/icons/pictures.svg" alt="">
      </div>
      <span class="icon-label">Videos</span>
    </a>
    <a class="wb-icon" href="#" id="pico8-icon" aria-label="PICO-8">
      <div class="icon-box">
        <img src="files/icons/program.svg" alt="">
      </div>
      <span class="icon-label">PICO-8</span>
    </a>
    <a class="wb-icon" href="#" id="basic-icon" aria-label="AmigaBASIC">
      <div class="icon-box">
        <img src="files/icons/basic.svg" alt="">
      </div>
      <span class="icon-label">Amiga<br>BASIC</span>
    </a>
    <a class="wb-icon" href="#" id="mail-icon" aria-label="Mail">
      <div class="icon-box">
        <img src="files/icons/email.svg" alt="">
      </div>
      <span class="icon-label">Mail</span>
    </a>
    <a class="wb-icon" href="#" id="timeline-icon" aria-label="Timeline">
      <div class="icon-box">
        <img src="files/icons/timeline.svg" alt="">
      </div>
      <span class="icon-label">Timeline</span>
    </a>
    <a class="wb-icon" href="files/Emil_Visti_CV.pdf" target="_blank" id="print-icon" aria-label="Print CV">
      <div class="icon-box">
        <img src="files/icons/program.svg" alt="">
      </div>
      <span class="icon-label">Print CV</span>
    </a>
    <div id="note-icons" style="display:contents"></div>
  </div>

  <!-- Trashcan (lower-right, like real Workbench) -->
  <a class="wb-icon" id="trash-icon" href="#" aria-label="Trashcan">
    <div class="icon-box">
      <img src="files/icons/trash.svg" alt="">
    </div>
    <span class="icon-label">Trashcan</span>
  </a>

  </div><!-- end #wb-container -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked@12/marked.min.js"></script>
  <script type="module" src="js/main.js"></script>

  <div id="crt" aria-hidden="true"></div>
</body>
</html>
